<div class="list-card">
  <h2>All Students</h2>

  <p-table [value]="filteredStudents" [paginator]="true" [rows]="10" [loading]="loading()">
    <ng-template #caption>
        <div class="flex">
            <p-iconfield iconPosition="left" class="ml-auto">
                <p-inputicon>
                    <i class="pi pi-search"></i>
                </p-inputicon>
                <input pInputText id="searchBox" [(ngModel)]="searchTerm" (ngModelChange)="filterStudents()" placeholder="Search 'use space for multiple'" autocomplete="off" />
            </p-iconfield>
        </div>
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th>Profile</th>
        <th>Name</th>
        <th>Email</th>
        <th class="text-center">Actions</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-student>
      <tr *ngIf="student">
        <!-- Profile -->
        <td>
          <img
            [src]="student?.profilePic"
            alt="profile pic"
            class="w-7rem border-round max-h-5rem"
          />
        </td>

        <!-- Basic Info -->
        <td>{{ student?.name }}</td>
        <td>{{ student?.email }}</td>        
        <!-- Actions -->
        <td class="justify-content-center">
          <div class="action-icons justify-content-center">
            <i class="pi pi-plus add-icon" 
               title="Edit Student" 
               (click)="navigate(student._id)">
            </i>
          </div>
        </td>
      </tr>
    </ng-template>
    <ng-template #emptymessage>
        <tr>
            <td colspan="5">No students found</td>
        </tr>
    </ng-template>
  </p-table>

</div>
